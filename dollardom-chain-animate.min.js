/**
* $dom library (v0.9.2b) copyright 2009, 2010, 2011 Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011 Julien Wajsberg
* Licensed under the MIT License
* http://github.com/julienw/dollardom
*/(function(a){function q(a,b,c){var d=r(b),e=m[d];return e&&e.set?e.set(a,c):a.style[d]=c}function r(a){return l[a]||(l[a]=a.replace(i,function(a,b){return b.toUpperCase()}))}function s(a,b,c){if(c===f){if(typeof b=="string")return p(a,b)||0;for(var d in b)q(a,d,b[d])}else q(a,b,c)}function t(a){var b,c=[];if(typeof a=="string")while(a){b=a.match(h);if(b[0]==="")break;c.push({rel:b[1],uTag:(b[2]||"").toUpperCase(),id:b[3],classes:b[4]?b[4].split("."):f}),a=a.substring(b[0].length)}return c}function u(a,b){while((a=a.parentNode)&&a!=b);return a!==null}function v(a,c){function f(a,c){var d,e=c.id?(d=(a&&a.ownerDocument||b).getElementById(c.id))&&u(d,a)?[d]:[]:g(a.getElementsByTagName(c.uTag||"*"));d=e.length;if(d>0&&(c.id||c.classes))while(d--)w(e[d],c)||e.splice(d,1);return e}function g(a){try{return Array.prototype.slice.call(a)}catch(b){var c=[];for(var d=0,e=a.length;d<e;d++)c.push(a[d]);return c}}function h(a){for(var b=i.length;b--;)if(i[b]===a)return d;return e}var i=[],j=[a],k=t(c),l,m,n,o,p,q,r,s,v;k.length||(k=[{}]);for(l=0,m=k.length;l<m;l++){r=k[l];for(n=0,o=j.length;n<o;n++){s=j[n];switch(r.rel){case">":var x=s.childNodes;for(p=0,q=x.length;p<q;p++)w(x[p],r)&&i.push(x[p]);break;case"~":while(s=s.nextSibling)if(w(s,r)){if(h(s))break;i.push(s)}break;case"+":while((s=s.nextSibling)&&s.nodeType!=1);s&&w(s,r)&&i.push(s);break;default:v=f(s,r);if(l>0)for(p=0,q=v.length;p<q;p++)h(v[p])||i.push(v[p]);else i=i.concat(v)}}if(!i.length)return[];j=i.splice(0,i.length)}return j}function w(a,b){if(!b)return!0;var c=b.uTag,d=b.id,e=b.classes;return a.nodeType===1&&(!c||c==a.tagName)&&(!d||d==a.id)&&(!e||!!A(a,e))}function x(a,b,c){c=t(c)[0];while(a&&!w(a,c)&&(a=a[b]));return a}function y(a,b){return b=t(b)[0],a&&w(a,b)}function z(a,b,c){return x(a[b],b,c)}function A(a,b){if(a.className==="")return e;for(var c=0;c<b.length;c++)if(!K(a,b[c]))return e;return d}function B(){function h(b){if(!d){d=!0,f&&(f=a.clearTimeout(f));for(var c=0,e=j.length;c<e;c++)j[c]()}}function i(){try{c.doScroll("left")}catch(b){a.setTimeout(i,20);return}h()}var d,f,g;if(/loaded|complete/.test(b.readyState)){a.setTimeout(h,0);return}if(b.addEventListener)b.addEventListener("DOMContentLoaded",h,e),b.addEventListener("load",h,e);else if(b.attachEvent){b.attachEvent("onload",h);var k=!1;try{k=a.frameElement===null}catch(l){}k&&c.doScroll&&i()}}function C(a,c){var d=t(a)[0],e=d.uTag;if(!e)return null;var f=(c||b).createElement(e),g=d.id,h=d.classes;return g&&(f.id=g),h&&(f.className=h.join(" ")),f}function D(a){j.push(a)}function E(a,c){return v(c||b,a)}function F(a,b){return z(a,"parentNode",b)}function G(a,b){return z(a,"nextSibling",b)}function H(a,b){return z(a,"previousSibling",b)}function I(a,b){return a=a.parentNode.firstChild,x(a,"nextSibling",b)}function J(a,b){return a=a.parentNode.lastChild,x(a,"previousSibling",b)}function K(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function L(a,b){K(a,b)||(a.className+=" "+b)}function M(a,b){K(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))}function N(a,b,c){(c?L:M)(a,b)}function O(a){while(a.firstChild)a.removeChild(a.firstChild)}var b=a.document,c=b.documentElement,d=!0,e=!1,f,g,h=/^\s*([>+~])?\s*([*\w-]+)?(?:#([\w-]+))?(?:\.([\w.-]+))?\s*/i,i=/-(\w)/g,j=[],k=[],l={"float":"cssFloat"in c.style?"cssFloat":"styleFloat"},m={borderWidth:{get:function(a){return p(a,"border-left-width")}},padding:{get:function(a){return p(a,"padding-left")}},margin:{get:function(a){return p(a,"margin-left")}}};!("opacity"in c.style)&&"filters"in c&&(m.opacity={set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}}),"clientWidth"in c&&(m.width={get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}}),"clientHeight"in c&&(m.height={get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}});var n=a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(c,d,e){var f=c.uniqueID+d+e;k[f]=function(){var d=a.event;return d.target=d.srcElement||b,d.currentTarget=c,d.preventDefault=function(){d.returnValue=!1},d.stopPropagation=function(){d.cancelBubble=!0},e.call(c,d)},c.attachEvent("on"+d,k[f])},o=a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,k[d]),delete k[d]},p=b.defaultView&&b.defaultView.getComputedStyle?function(a,b){var c=r(b),d=m[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var c=r(b),d=m[c];return d&&d.get?d.get(a):a.currentStyle[c]},P={create:C,onready:D,addEvent:n,removeEvent:o,get:E,descendants:v,ancestor:F,next:G,previous:H,first:I,last:J,empty:O,is:y,hasClass:K,addClass:L,removeClass:M,toggleClass:N,style:s};a.$dom=P,B()})(this),function(a){function h(a,b){var c=d.splice(a,1)[0];c.callback&&c.callback(b,c.elm)}function i(a){a=a||+(new Date);for(var b=d.length-1;b>=0;b--){var e,g,j={},k=d[b];k.startTime=k.startTime||a;var l=k.duration,m=k.properties,n=a-k.startTime,o=.5-Math.cos(n/l*Math.PI)/2;for(e in m)g=m[e],j[e]=""+(n>=l?g.e:g.s+(g.e-g.s)*o)+g.u,j[e]=="NaNpx"&&(j[e]=0);c(k.elm,j),n>=l&&h(b,!0)}d.length&&f(i)}function j(a,b,j,k){var l,m=[],n,o,p=-1,q;for(q=d.length-1;q>=0;q--)if(d[q].elm==a){p=q;break}if(b===e)return p>-1;p>-1&&h(p,!1),j===e&&(j=500);for(l in b)n=g.exec(c(a,l)),o=g.exec(b[l]),m[l]={s:parseFloat(n[1])||0,e:parseFloat(o[1])||0,u:o[2]||n[2]||""};d.push({elm:a,properties:m,callback:k,duration:j}),f(i)}var b=a.$dom,c=b.style,d=[],e,f=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(function(){b()},16)},g=/^(.*?)(px|deg)?$/;b.transform=b.animate=j}(this),function(a){function c(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])}function d(a,b){var c=[],d=0,e=a.length;for(;d<e;d++)c.push(b(a[d]));return c}function e(a){var b=0,c=[],d=[a],e,f,g,h;while(b<d.length){e=d[b];for(f=0,g=e.length;f<g;f++)h=e[f],i(h)?d.push(h):c.push(h);b++}return c}function f(a){return Object.prototype.toString.call(a)=="[object Array]"}function j(a){this.a=a}function k(a,c){return new j(b.get(a,c))}function l(a,c){return new j([b.create(a,c)])}function m(a){return a=i(a)?a:[a],new j(a)}var b=a.$dom,g=Array.prototype.forEach?function(a,b){a.forEach(b)}:c,h=Array.prototype.map?function(a,b){return a.map(b)}:d,i=Array.isArray||f,n=j.prototype={addEvent:function(a,c){return g(this.a,function(d){b.addEvent(d,a,c)}),this},removeEvent:function(a,c){return g(this.a,function(d){b.removeEvent(d,a,c)}),this},descendants:function(a){return m(e(h(this.a,function(c){return b.descendants(c,a)})))},ancestor:function(a){return m(h(this.a,function(c){return b.ancestor(c,a)}))},next:function(a){return m(h(this.a,function(c){return b.next(c,a)}))},previous:function(a){return m(h(this.a,function(c){return b.previous(c,a)}))},first:function(a){return m(h(this.a,function(c){return b.first(c,a)}))},last:function(a){return m(h(this.a,function(c){return b.last(c,a)}))},empty:function(){return g(this.a,b.empty),this},is:function(a){return this.a.length&&b.is(this.a[0],a)},hasClass:function(a){return this.a.length&&b.hasClass(this.a[0],a)},addClass:function(a){return g(this.a,function(c){b.addClass(c,a)}),this},removeClass:function(a){return g(this.a,function(c){b.removeClass(c,a)}),this},toggleClass:function(a,c){return g(this.a,function(d){b.toggleClass(d,a,c)}),this},style:function(a,c){return g(this.a,function(d){b.style(d,a,c)}),this},toDom:function(){return this.a},append:function(a){return a instanceof j&&(a=a.toDom()),i(a)||(a=[a]),g(this.a,function(b){g(a,function(a){b.appendChild(a)})}),this},appendTo:function(a){return!a instanceof j&&(a=m(a)),a.append(this),this}};b.transform&&(n.transform=n.animate=function(a,c,d){return g(this.a,function(e){b.transform(e,a,c,d),d=null}),this}),a.$dom={onready:b.onready,get:k,create:l,fromDom:m}}(this);