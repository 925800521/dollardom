/**
* $dom library (v0.9.1b) copyright 2009, 2010, 2011 Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011 Julien Wajsberg
* Licensed under the MIT License
* http://github.com/julienw/dollardom
*/(function(a){function U(a){while(a.firstChild)a.removeChild(a.firstChild)}function T(a,b,c){(c?R:S)(a,b)}function S(a,b){Q(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))}function R(a,b){Q(a,b)||(a.className+=" "+b)}function Q(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function P(a,b){a=a.parentNode.lastChild;return z(a,"previousSibling",b)}function O(a,b){a=a.parentNode.firstChild;return z(a,"nextSibling",b)}function N(a,b){return B(a,"previousSibling",b)}function M(a,b){return B(a,"nextSibling",b)}function L(a,b){return B(a,"parentNode",b)}function K(a,c){return x(c||b,a)}function J(a){l.push(a)}function I(a,c){var d=v(a)[0],e=d.uTag;if(!e)return null;var f=(c||b).createElement(e),g=d.id,h=d.classes;g&&(f.id=g),h&&(f.className=h.join(" "));return f}function H(){function i(){try{c.doScroll("left")}catch(b){a.setTimeout(i,20);return}h()}function h(b){if(!d){d=!0,f&&(f=a.clearTimeout(f));for(var c=0,e=l.length;c<e;c++)l[c]()}}var d,f,g;if(/loaded|complete/.test(b.readyState))a.setTimeout(h,0);else if(b.addEventListener)b.addEventListener("DOMContentLoaded",h,e),b.addEventListener("load",h,e);else if(b.attachEvent){b.attachEvent("onload",h);var j=!1;try{j=a.frameElement===null}catch(k){}j&&c.doScroll&&i()}}function G(a,b,c,d){var g,j=[],k,l,m=-1,n;for(n=h.length-1;n>=0;n--)if(h[n].elm==a){m=n;break}if(b===f)return m>-1;m>-1&&E(m,e),c===f&&(c=500);for(g in b)k=i.exec(u(a,g)),l=i.exec(b[g]),j[g]={s:parseFloat(k[1]),e:parseFloat(l[1]),u:l[2]||k[2]||""};h.push({elm:a,startTime:+(new Date),properties:j,callback:d,duration:c}),D(F)}function F(a){a=a||+(new Date);for(var b=h.length-1;b>=0;b--){var c,e,f={},g=h[b],i=g.duration,j=g.properties,k=a-g.startTime,l=.5-Math.cos(k/i*Math.PI)/2;for(c in j)e=j[c],f[c]=""+(k>=i?e.e:e.s+(e.e-e.s)*l)+e.u,f[c]=="NaNpx"&&(f[c]=0);u(g.elm,f),k>=i&&E(b,d)}h.length&&D(F)}function E(a,b){var c=h.splice(a,1)[0];c.callback&&c.callback(b,c.elm)}function C(a,b){if(a.className==="")return e;for(var c=0;c<b.length;c++)if(!Q(a,b[c]))return e;return d}function B(a,b,c){return z(a[b],b,c)}function A(a,b){b=v(b)[0];return a&&y(a,b)}function z(a,b,c){c=v(c)[0];while(a&&!y(a,c)&&(a=a[b]));return a}function y(a,b){if(!b)return!0;var c=b.uTag,d=b.id,e=b.classes;return a.nodeType===1&&(!c||c==a.tagName)&&(!d||d==a.id)&&(!e||!!C(a,e))}function x(a,c){function h(a){for(var b=i.length;b--;)if(i[b]===a)return d;return e}function g(a){try{return Array.prototype.slice.call(a)}catch(b){var c=[];for(var d=0,e=a.length;d<e;d++)c.push(a[d]);return c}}function f(a,c){var d,e=c.id?(d=(a&&a.ownerDocument||b).getElementById(c.id))&&w(d,a)?[d]:[]:g(a.getElementsByTagName(c.uTag||"*"));d=e.length;if(d>0&&(c.id||c.classes))while(d--)y(e[d],c)||e.splice(d,1);return e}var i=[],j=[a],k=v(c),l,m,n,o,p,q,r,s,t;k.length||(k=[{}]);for(l=0,m=k.length;l<m;l++){r=k[l];for(n=0,o=j.length;n<o;n++){s=j[n];switch(r.rel){case">":var u=s.childNodes;for(p=0,q=u.length;p<q;p++)y(u[p],r)&&i.push(u[p]);break;case"~":while(s=s.nextSibling)if(y(s,r)){if(h(s))break;i.push(s)}break;case"+":while((s=s.nextSibling)&&s.nodeType!=1);s&&y(s,r)&&i.push(s);break;default:t=f(s,r);if(l>0)for(p=0,q=t.length;p<q;p++)h(t[p])||i.push(t[p]);else i=i.concat(t)}}if(!i.length)return[];j=i.splice(0,i.length)}return j}function w(a,b){while((a=a.parentNode)&&a!=b);return a!==null}function v(a){var b,c=[];if(typeof a=="string")while(a){b=a.match(j);if(b[0]==="")break;c.push({rel:b[1],uTag:(b[2]||"").toUpperCase(),id:b[3],classes:b[4]?b[4].split("."):f}),a=a.substring(b[0].length)}return c}function u(a,b,c){if(c===f){if(typeof b=="string")return r(a,b)||0;for(var d in b)s(a,d,b[d])}else s(a,b,c)}function t(a){return n[a]||(n[a]=a.replace(k,function(a,b){return b.toUpperCase()}))}function s(a,b,c){var d=t(b),e=o[d];return e&&e.set?e.set(a,c):a.style[d]=c}var b=a.document,c=b.documentElement,d=!0,e=!1,f,g,h=[],i=/^(.*?)(px|deg)?$/,j=/^\s*([>+~])?\s*([*\w-]+)?(?:#([\w-]+))?(?:\.([\w.-]+))?\s*/i,k=/-(\w)/g,l=[],m=[],n={"float":"cssFloat"in c.style?"cssFloat":"styleFloat"},o={borderWidth:{get:function(a){return r(a,"border-left-width")}},padding:{get:function(a){return r(a,"padding-left")}},margin:{get:function(a){return r(a,"margin-left")}}};!1 in c.style&&"filters"in c&&(o.opacity={set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}}),"clientWidth"in c&&(o.width={get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}}),"clientHeight"in c&&(o.height={get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}});var p=a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(b,c,d){var e=b.uniqueID+c+d;m[e]=function(){var b=a.event;b.target=b.srcElement,b.preventDefault=function(){b.returnValue=!0},b.stopPropagation=function(){b.cancelBubble=!0},d(b)},b.attachEvent("on"+c,m[e])},q=a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,m[d]),delete m[d]},r=b.defaultView&&b.defaultView.getComputedStyle?function(a,b){var c=t(b),d=o[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var c=t(b),d=o[c];return d&&d.get?d.get(a):a.currentStyle[c]},D=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(function(){b()},16)},V={create:I,onready:J,addEvent:p,removeEvent:q,get:K,descendants:x,ancestor:L,next:M,previous:N,first:O,last:P,empty:U,is:A,hasClass:Q,addClass:R,removeClass:S,toggleClass:T,style:u,transform:G};a.$dom=V,H()})(this)