/**
* @preserve $dom library (v0.9.1b) copyright 2009, Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*/(function(a){function D(){var e,f,g,h=function(a){if(!e){e=!0,f&&(f=clearTimeout(f));for(g in l)l[g]()}};a.onload=h,b.addEventListener&&b.addEventListener("DOMContentLoaded",h,d),function(){var a=/loaded|complete/.test(b.readyState);if(!a&&k)try{b.documentElement.doScroll("left"),a=c}catch(d){}a?h():setTimeout(arguments.callee,50)}()}function C(a,b,g,j){var k,l=[],m,n,o=-1,p;for(p=h.length-1;p>=0;p--)if(h[p].elm==a){o=p;break}if(b===e)return o>-1;o>-1&&B(o,d),g===e&&(g=500);for(k in b)m=i.exec(u(a,k)),n=i.exec(b[k]),l[k]={s:parseFloat(m[1]),e:parseFloat(n[1]),u:m[2]||n[2]||""};h.push({elm:a,startTime:new Date,properties:l,callback:j,duration:g}),f==null&&(f=setInterval(function(){for(var a=h.length-1;a>=0;a--){var b={},d,e,g=h[a],i=g.duration,j=new Date-g.startTime,k=1-(.5-Math.cos(j/i*Math.PI)/2);for(d in g.properties)e=g.properties[d],b[d]=Number(j>=i?e.e:e.s>e.e?e.e+(e.s-e.e)*k:e.s+(e.e-e.s)*(1-k)).toFixed(2)+e.u,b[d]=="NaNpx"&&(b[d]="0");u(g.elm,b),j>=i&&B(a,c)}h.length==0&&(f=clearInterval(f))},10))}function B(a,b){var c=h.splice(a,1)[0];typeof c.callback=="function"&&c.callback(b,c.elm)}function A(a,b){if(a.className=="")return d;for(var e=0;e<b.length;e++)if(!$dom.hasClass(a,b[e]))return d;return c}function z(a,b,c){c=v(c),c=c.length>0?c[0]:null;while(a&&(a=a[b])&&(c?!y(a,c):a.nodeType!=1));return a}function y(a,b){return a.nodeType==1&&b&&(!b.tag||b.uTag==a.tagName)&&(!b.id||b.id==a.id)&&(!b.classes||!!A(a,b.classes))}function x(a,e){function h(a){for(var b=i.length;b--;)if(i[b]===a)return c;return d}function g(a){try{return Array.prototype.slice.call(a)}catch(b){var c=[];for(var d=0;d<a.length;d++)c.push(a[d]);return c}}function f(a,c){var d,e=c.id?(d=(a&&a.ownerDocument||b).getElementById(c.id))&&w(d,a)?[d]:[]:g(a.getElementsByTagName(c.tag?c.uTag:"*"));d=e.length;if(d>0&&(c.id||c.classes))while(d--)y(e[d],c)||e.splice(d,1);return e}var i=[],j=[a],k=v(e),l,m,n,o,p,q,r,s,t;k.length==0&&(k=[{}]);for(l=0,m=k.length;l<m;l++){r=k[l];for(n=0,o=j.length;n<o;n++){s=j[n];switch(r.rel){case">":var u=s.childNodes;for(p=0,q=u.length;p<q;p++)y(u[p],r)&&i.push(u[p]);break;case"~":while(s=s.nextSibling)if(y(s,r)){if(h(s))break;i.push(s)}break;case"+":while((s=s.nextSibling)&&s.nodeType!=1);s&&y(s,r)&&i.push(s);break;default:t=f(s,r);if(l>0)for(p=0,q=t.length;p<q;p++)h(t[p])||i.push(t[p]);else i=i.concat(t)}}if(i.length===0)return[];j=i.splice(0,i.length)}return j}function w(a,b){while((a=a.parentNode)&&a!=b);return a!==null}function v(a){var b,c=[];if(typeof a=="string")while(a!=""){b=a.match(j);if(b[0]=="")return null;c.push({rel:b[1],tag:b[2],uTag:(b[2]||"").toUpperCase(),id:b[3],classes:b[4]?b[4].split("."):e}),a=a.substring(b[0].length)}return c}function u(a,b,c){if(c===e){if(typeof b=="string")return r(a,b)||0;for(var d in b)s(a,d,b[d])}else s(a,b,c)}function t(a){return n[a]||(n[a]=a.replace(/\-(.)/g,function(a,b){return b.toUpperCase()}))}function s(a,b,c){var d=t(b),e=o[d];return e&&e.set?e.set(a,c):a.style[d]=c}var b=document,c=!0,d=!1,e,f,g,h=[],i=/^(.*?)(px|deg)?$/,j=/^\s*([>+~])?\s*([*a-z0-9\-_]+)?(?:#([a-z0-9\-_]+))?(?:\.([a-z0-9\.\-_]+))?\s*/i,k=d,l=[],m=[],n={"float":k?"styleFloat":"cssFloat"},o=k?{opacity:{set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}},width:{get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}},height:{get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}}}:{borderWidth:{get:function(a){return r(a,"border-left-width")}},padding:{get:function(a){return r(a,"padding-left")}},margin:{get:function(a){return r(a,"margin-left")}}},p=k?function(b,c,d){var e=b.uniqueID+c+d;m[e]=function(){var b=a.event;b.target=b.srcElement,d(b)},b.attachEvent("on"+c,m[e])}:function(a,b,c){a.addEventListener(b,c,!1)},q=k?function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,m[d]),delete m[d]}:function(a,b,c){a.removeEventListener(b,c,!1)},r=k?function(a,b){var c=t(b),d=o[c];return d&&d.get?d.get(a):a.currentStyle[c]}:function(a,b){var c=t(b),d=o[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)};D.prototype={create:function(a,c){var d=v(a)[0],e=(c||b).createElement(d.tag);d.id&&(e.id=d.id),d.classes&&(e.className=d.classes.join(" "));return e},onready:function(a){l.push(a)},addEvent:p,removeEvent:q,get:function(a,c){return this.descendants(c||b,a)},descendants:function(a,b){return x(a,b)},ancestor:function(a,b){return z(a,"parentNode",b)},next:function(a,b){return z(a,"nextSibling",b)},previous:function(a,b){return z(a,"previousSibling",b)},first:function(a,b){var c=a.parentNode;return z(c,"firstChild",b)||this.next(c.firstChild,b)},last:function(a,b){var c=a.parentNode;return z(c,"lastChild",b)||this.previous(c.lastChild,b)},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},addClass:function(a,b){this.hasClass(a,b)||(a.className+=(a.className!=""?" ":"")+b)},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))},toggleClass:function(a,b,d){this[d===c?"addClass":"removeClass"](a,b)},style:function(a,b,c){return u(a,b,c)},transform:function(a,b,c,d){return C(a,b,c,d)}},a.$dom=new D})(this)