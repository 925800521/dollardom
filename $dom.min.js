/**
* @preserve $dom library (v0.9.1b) copyright 2009, Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011 Julien Wajsberg
* Licensed under the MIT License
* http://github.com/julienw/dollardom
*//*jshint boss: true, bitwise: true, curly: true, newcap: true, noarg: true, nonew: true *//* future jshint options : nomen: true *//* undef options seems buggy */(function(a){function Q(a,b,c){(c?O:P)(a,b)}function P(a,b){N(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))}function O(a,b){N(a,b)||(a.className+=" "+b)}function N(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function M(a,b){var c=a.parentNode;return A(c,"lastChild",b)||K(c.lastChild,b)}function L(a,b){var c=a.parentNode;return A(c,"firstChild",b)||J(c.firstChild,b)}function K(a,b){return A(a,"previousSibling",b)}function J(a,b){return A(a,"nextSibling",b)}function I(a,b){return A(a,"parentNode",b)}function H(a,c){return y(c||b,a)}function G(a){m.push(a)}function F(a,c){var d=w(a)[0],e=(c||b).createElement(d.tag);d.id&&(e.id=d.id),d.classes&&(e.className=d.classes.join(" "));return e}function E(){function i(){try{c.doScroll("left")}catch(b){a.setTimeout(i,20);return}h()}function h(b){if(!d){d=!0,f&&(f=a.clearTimeout(f));for(var c=0,e=m.length;c<e;c++)m[c]()}}var d,f,g;if(/loaded|complete/.test(b.readyState))a.setTimeout(h,0);else if(b.addEventListener)b.addEventListener("DOMContentLoaded",h,e),b.addEventListener("load",h,e);else if(b.attachEvent){b.attachEvent("onload",h);var j=!1;try{j=a.frameElement===null}catch(k){}!j&&c.doScroll&&i()}}function D(b,c,h,k){var l,m=[],n,o,p=-1,q;for(q=i.length-1;q>=0;q--)if(i[q].elm==b){p=q;break}if(c===f)return p>-1;p>-1&&C(p,e),h===f&&(h=500);for(l in c)n=j.exec(v(b,l)),o=j.exec(c[l]),m[l]={s:parseFloat(n[1]),e:parseFloat(o[1]),u:n[2]||o[2]||""};i.push({elm:b,startTime:new Date,properties:m,callback:k,duration:h}),g||(g=a.setInterval(function(){for(var b=i.length-1;b>=0;b--){var c={},e,f,h=i[b],j=h.duration,k=new Date-h.startTime,l=1-(.5-Math.cos(k/j*Math.PI)/2);for(e in h.properties)f=h.properties[e],c[e]=Number(k>=j?f.e:f.s>f.e?f.e+(f.s-f.e)*l:f.s+(f.e-f.s)*(1-l)).toFixed(2)+f.u,c[e]=="NaNpx"&&(c[e]="0");v(h.elm,c),k>=j&&C(b,d)}i.length||(g=a.clearInterval(g))},10))}function C(a,b){var c=i.splice(a,1)[0];typeof c.callback=="function"&&c.callback(b,c.elm)}function B(a,b){if(a.className==="")return e;for(var c=0;c<b.length;c++)if(N(a,b[c]))return e;return d}function A(a,b,c){c=w(c),c=c.length>0?c[0]:null;while(a&&(a=a[b])&&(c?!z(a,c):a.nodeType!=1));return a}function z(a,b){return a.nodeType===1&&b&&(!b.tag||b.uTag==a.tagName)&&(!b.id||b.id==a.id)&&(!b.classes||!!B(a,b.classes))}function y(a,c){function h(a){for(var b=i.length;b--;)if(i[b]===a)return d;return e}function g(a){try{return Array.prototype.slice.call(a)}catch(b){var c=[];for(var d=0;d<a.length;d++)c.push(a[d]);return c}}function f(a,c){var d,e=c.id?(d=(a&&a.ownerDocument||b).getElementById(c.id))&&x(d,a)?[d]:[]:g(a.getElementsByTagName(c.tag?c.uTag:"*"));d=e.length;if(d>0&&(c.id||c.classes))while(d--)z(e[d],c)||e.splice(d,1);return e}var i=[],j=[a],k=w(c),l,m,n,o,p,q,r,s,t;k.length||(k=[{}]);for(l=0,m=k.length;l<m;l++){r=k[l];for(n=0,o=j.length;n<o;n++){s=j[n];switch(r.rel){case">":var u=s.childNodes;for(p=0,q=u.length;p<q;p++)z(u[p],r)&&i.push(u[p]);break;case"~":while(s=s.nextSibling)if(z(s,r)){if(h(s))break;i.push(s)}break;case"+":while((s=s.nextSibling)&&s.nodeType!=1);s&&z(s,r)&&i.push(s);break;default:t=f(s,r);if(l>0)for(p=0,q=t.length;p<q;p++)h(t[p])||i.push(t[p]);else i=i.concat(t)}}if(!i.length)return[];j=i.splice(0,i.length)}return j}function x(a,b){while((a=a.parentNode)&&a!=b);return a!==null}function w(a){var b,c=[];if(typeof a=="string")while(a){b=a.match(k);if(b[0]==="")return null;c.push({rel:b[1],tag:b[2],uTag:(b[2]||"").toUpperCase(),id:b[3],classes:b[4]?b[4].split("."):f}),a=a.substring(b[0].length)}return c}function v(a,b,c){if(c===f){if(typeof b=="string")return s(a,b)||0;for(var d in b)t(a,d,b[d])}else t(a,b,c)}function u(a){return o[a]||(o[a]=a.replace(l,function(a,b){return b.toUpperCase()}))}function t(a,b,c){var d=u(b),e=p[d];return e&&e.set?e.set(a,c):a.style[d]=c}var b=a.document,c=b.documentElement,d=!0,e=!1,f,g,h,i=[],j=/^(.*?)(px|deg)?$/,k=/^\s*([>+~])?\s*([*a-z0-9\-_]+)?(?:#([a-z0-9\-_]+))?(?:\.([a-z0-9\.\-_]+))?\s*/i,l=/\-(\w)/g,m=[],n=[],o={"float":"cssFloat"in c.style?"cssFloat":"styleFloat"},p={borderWidth:{get:function(a){return s(a,"border-left-width")}},padding:{get:function(a){return s(a,"padding-left")}},margin:{get:function(a){return s(a,"margin-left")}}};!1 in c.style&&"filters"in c&&(p.opacity={set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}}),"clientWidth"in c&&(p.width={get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}}),"clientHEight"in c&&(p.height={get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}});var q=a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(b,c,d){var e=b.uniqueID+c+d;n[e]=function(){var b=a.event;b.target=b.srcElement,d(b)},b.attachEvent("on"+c,n[e])},r=a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,n[d]),delete n[d]},s=b.defaultView&&b.defaultView.getComputedStyle?function(a,b){var c=u(b),d=p[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var c=u(b),d=p[c];return d&&d.get?d.get(a):a.currentStyle[c]},R={create:F,onready:G,addEvent:q,removeEvent:r,get:H,descendants:y,ancestor:I,next:J,previous:K,first:L,last:M,hasClass:N,addClass:O,removeClass:P,toggleClass:Q,style:v,transform:D};a.$dom=R,E()})(this)